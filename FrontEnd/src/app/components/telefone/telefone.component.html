<div class="animate__animated animate__fadeInUp">
  <app-titulo
  [titulo]="'Telefones'"
  [iconClass]="'fas fa-phone'"
  [botao]="true"
  [message]="'Novo'"
  [novaRota]="'/cadastrarTelefone'">
  </app-titulo>
</div>

<div class="card rounded shadow-sm p-3 animate__animated animate__fadeInUp table-responsive">

  <div class="d-flex">
    <div class="flex-fill pr-3">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">Filtro: </div>
        </div>
        <input
        type="text"
        class="form-control"
        placeholder="Filtrar por Nome e Número de Telefone"
        [(ngModel)]="filtroLista"
        >
      </div>
    </div>
    </div>

  <table class="table table-striped table-hover">
    <thead class="thead-dark">
      <tr>
      <th>Excluir</th>
      <th>#</th>
      <th>Número de Telefone</th>
      <th>Nome</th>
    </tr>
  </thead>
  <tbody *ngIf="telefones && telefones.length">
    <tr *ngFor="let telefone of telefonesFiltrados" (click)="detalheTelefone(telefone.id)">
      <td>
        <button type="button" class="btn btn-danger btn-lg" tooltip="Excluir" (click)="openModal($event, template, telefone.id)">
          <i class="fa fa-eraser"></i>
        </button>
      </td>
      <td>{{telefone.id}}</td>
      <td>{{telefone.numeroTelefone | telefone }}</td>
      <td>{{telefone.nome}}</td>
    </tr>
  </tbody>
  <tfoot *ngIf="!telefones.length">
    <tr>
      <td colspan="8" class="text-center">
        <h4>Nenhum telefone encontrado!</h4>
      </td>
    </tr>
  </tfoot>
</table>

</div>

<ng-template #template>
  <div class="modal-body text-center">
    <p>Tem certeza que quer deletar o Telefone de Código? {{this.telefoneId}}</p>
    <button type="button" class="btn btn-danger" (click)="confirm()">Sim</button>
    <button type="button" class="btn btn-primary" (click)="decline()">Não</button>
  </div>
</ng-template>

